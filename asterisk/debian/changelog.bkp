asl-asterisk (1:1.4.23-9) UNRELEASED; urgency=medium

  * Fix systemd service names

 -- Rob Vella <me@robvella.com>  Thu, 25 Mar 2021 11:34:05 -0700

asl-asterisk (1:1.4.23-8) unstable; urgency=medium

  * Merge in asl-menu and other scripts from ASL-Live-Build
  * Merge in modules.conf and manager.conf from ASL-Live-Build
  * Remove old rc.updatenodelist

 -- Rob Vella <me@robvella.com>  Wed, 3 Mar 2021 13:53:00 -0800

asl-asterisk (1:1.4.23-7) unstable; urgency=medium

  * do not enable savenode by default
  * shorten timeout for http registration
  * use libcurl for statpost instead of shell call to wget
  * update startup/shutdown scripts to query systemctl for service status
  * clean up output from console node lookup
  * updates to asterisk service management convenience scripts
  * do not enable asterisk service by default on new installations
  * fix compiler warnings, perhaps better system stability
  * collect perceived ip, port and refresh time from http registration
  * update config samples to match 1.01 distro and include feature updates
  * add libi2c-dev to list of build dependencies
  * add registerhttp and registeriax directives to chan_iax2

 -- Adam Paul <adamjpaul@gmail.com>  Mon, 12 Oct 2020 14:02:52 -0400

asl-asterisk (1:1.4.23-6) unstable; urgency=medium

  * refinements in http registration
  * inclusion of systemd service file for updatenodelist
  * implementation of console command rpt lookup

 -- Adam Paul <adamjpaul@gmail.com>  Mon, 07 Sep 2020 23:15:43 -0400

asl-asterisk (1:1.4.23-5) unstable; urgency=medium

  * fix ASTDATADIR location
  * include allstar sounds
  * implement http(s) registration

 -- Adam Paul <adamjpaul@gmail.com>  Sat, 05 Sep 2020 00:45:34 -0400

asl-asterisk (1:1.4.23-4) unstable; urgency=medium

  * make asterisk run as root until we can fix dependency problems
  * include app_rpt in the build package
  * merge in dvswitch master
  * add backup-server to package
  * merge in telemetry ducking
  * merge in upstream alignment
  * merge in simple voter
  * merge in http registration

 -- Adam Paul <adamjpaul@gmail.com>  Sat, 29 Aug 2020 20:54:54 -0400

asl-asterisk (1:1.4.23-3) unstable; urgency=medium

  * fix packaging problem prevening many components (including asterisk
    binary from being installed)

 -- Adam Paul <adamjpaul@gmail.com>  Fri, 07 Aug 2020 21:42:37 -0400

asl-asterisk (1:1.4.23-2) unstable; urgency=medium

  * change asl-asterisk package deps to point to new asl-config package

 -- Adam Paul <adamjpaul@gmail.com>  Fri, 07 Aug 2020 16:15:04 -0400

asl-asterisk (1:1.4.23-1) unstable; urgency=medium

  * change naming convention to asl-asterisk
  * depend on new asl-dahdi packages
  * Compile with modern gcc

 -- Adam Paul <adamjpaul@gmail.com>  Mon, 03 Aug 2020 02:03:52 -0400

asterisk (1:1.4.21.2~dfsg-2) unstable; urgency=low

  [ Victor Seva ]
  * support DEB_BUILD_OPTION noopt used to produce non-optimized builds.
    (Closes: #492941).
  * Depend on libcap2-dev instead of libcap-dev because libcap1 is no longer
    maintained upstream. Thanks to Torsten Werner <twerner@debian.org>.
    (Closes: #492620).
  * Backport script fixes:
    - Depend on debhelper >=5 on backport etch script.
    - replace libcap2-dev by libcap-dev.
    - remove lib-client2007b-dev. (Closes: #494405)

  [ Tzafrir Cohen ]
  * Patch chan_zap so that asterisk starts even without a Zaptel timing
    source. (Closes: #491310)

  [ Lionel Elie Mamane ]
  * /etc/default/asterisk: Bring comments on AST_DUMPCORE_DIR in sync with
    reality of implementation in /etc/init.d/asterisk. Change suggested
    CORE_PATTERN to more secure ones.
  * /etc/init.d/asterisk: Use the value of AST_DUMPCORE_DIR if it is a
    directory, not if the value if DUMPCORE_DIR is a directory.

  [ Faidon Liambotis ]
  * Backport a patch from Xorcom's tree fixing a deadlock situation caused
    by the bristuff patch. (Closes: #493055)
  * Backport a patch from Xorcom's tree fixing an occasional "Cause 34" error
    on BRIs.
  * Don't write /root/.asterisk_history when stopping asterisk with the init
    script. (Closes: #500294)
  * Eliminate warnings when calling some actions of the init script by
    replacing obsolete asterisk commands with their newer counterpart.

 -- Faidon Liambotis <paravoid@debian.org>  Sat, 04 Oct 2008 01:21:40 +0300

asterisk (1:1.4.21.2~dfsg-1) unstable; urgency=high

  [ Victor Seva ]
  * asterisk.postinst should always check group memberships (Closes:
    #486097) patch by Tim Retout <tim@retout.co.uk>
  * changed libc-client2007-dev to libc-client2007b-dev on Build-Depends
    (fixes FTBFS).

  [ Tzafrir Cohen ]
  * Depend on debhelper >= 6.0.7 due to dh_lintian (Closes: #492202).
  * New upstream bugfix release. Fixes CVE-2008-3263 and CVE-2008-3264.

  [ Faidon Liambotis ]
  * Do a quilt refresh on all patches.
  * Remove the dh_makeshlibs call as it is unneeded and generates a lintian
    warning.

 -- Faidon Liambotis <paravoid@debian.org>  Thu, 24 Jul 2008 19:51:20 +0300

asterisk (1:1.4.21.1~dfsg-1) unstable; urgency=low

  [ Tzafrir Cohen ]
  * New upstream bugfix release.
  * Fix get-orig-source target to remove temporary files left in that tarball.
  * The asterisk.h symlink moved to asterisk-dev where it should be.

  [ Mark Purcell ]
  * asterisk-dev Replaces: asterisk (<< 1:1.4.21.1~dfsg-1)
  * lintian cleanup: debian-copyright-line-too-long
  * Call dh_lintian lintian-cleanup: package-contains-empty-directory

 -- Mark Purcell <msp@debian.org>  Wed, 16 Jul 2008 21:14:10 +1000

asterisk (1:1.4.21~dfsg-1) unstable; urgency=low

  * New upstream release. 
  * bison no longer needed to build Asterisk (Since 1.4.0).
  * Patch armel_support applied upstream.
  * Patches bristuff/zapata-gsm and bristuff/zapata-bri+euroisdn adjusted to 
    chan_zap changes (conf became a pointer in mkintf).

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Thu, 12 Jun 2008 21:30:40 +0300

asterisk (1:1.4.20~dfsg-1) unstable; urgency=low

  [ Victor Seva ]
  * Patch sample files pointing now to the correct doc files. (Closes: #475681)
  * Added support for armel, thanks to Riku Voipio. (Closes: #477389)
  * Added asterisk-config.dirs in order to create etc/asterisk/manager.d dir,
    and added a README.conf on it on rule install-indep.

  [ Tzafrir Cohen ]
  * Provide /usr/include/asterisk.h as well (through a symlink).
  * Remove {,} bashism from debian/rules (Closes: #478361). 

  [ Faidon Liambotis ]
  * New upstream version.
    - Fix IAX performance issues introduced by security fix in 1.4.19.1
    - Dropped patches samples, vpb-driver-4.2.18, vpb_no_cards, incorporated
      by upstream.
  * Update to bristuff-0.4.0-RC1:
    - Revert API changes to res_agi (xagi).
    - Revert API changes to ast_sendtext() (ast-send-message).
    - Merge several chan_zap changes (zapata-bri+euroisdn, zapata-gsm).
    - Remove unused zapata-device-state, feature-parking_con, find-feature,
      chan-capi, ast_channel_masquerade_locked, find-feature patches,
      obsoleted by upstream.
    - Remove uniqueid-01-use-pid-on-uniqueid-generation patch, dropped by
      upstream.
    - Rename app-zapras-fix-audiomode to isdn-fixes and include another fix
      that we dropped earlier by mistake (r5162).
    - Merge ast-send-message with ast-send-message-users, following upstream
      split.
    - Other minor and cosmetic fixes.
    - Comment-out the only use of ast-send-message (in GSM) to avoid an ABI
      change. We are not shipping GSM, hence this is not a feature regression.
  * Conflict with asterisk-chan-capi << 1.1.1-1 which we broke with an ABI
    change :( (Closes: #472379).
  * Drop doc-base entries for sip.conf and zapata.conf, there was no point in
    just listing those two configuration files.
  * Remove -1 revision dependency on libpri and libopenh323-dev.
  * Override some lintian warnings for asterisk (empty IAX firmware and
    static-http directories) and asterisk-sounds-main (empty MOH and es/fr
    sounds directories).

 -- Faidon Liambotis <paravoid@debian.org>  Sat, 07 Jun 2008 19:18:56 +0300

asterisk (1:1.4.19.1~dfsg-1) unstable; urgency=low

  [ Faidon Liambotis ]
  * New upstream release.
    - Dropped configure-libc-client, incorporated upstream.
    - Adapted bristuff patches uniqueid-10-channel-ops-uniqueid,
      uniqueid-30-app-chanspy, zapata-bri+euroisdn.
    - Fixes CVE-2008-1897 / AST-2008-006 (Closes: #477472).
  * Build with -O2 instead of the default -O6 (bug introduced in
    1.4.18~dfsg-1).
  * Depend on libspeexdsp-dev because of the use of preprocessor features,
    which were split from libspeex >= 1.2. 
    - FTBFS: codec_speex.c:99: error: expected specifier-qualifier-list
      before 'SpeexPreprocessState' (Closes: #474789)
    - Asterisk fails to install due to broken libspeex dependency 
      (Closes: #477086)

  [ Lionel Elie Mamane ]
  * debian/rules: fix get-orig-source to actually work
  * Fix genastkey so that keys are not world-readable by default.

  [ Tzafrir Cohen ]
  * Watching downloads.digium.com directly again.
  * Patch apptest_sleep: A woraround for TestServer fail on SEND DTMF 8.

 -- Mark Purcell <msp@debian.org>  Wed, 23 Apr 2008 22:50:35 +1000

asterisk (1:1.4.18.1~dfsg-1) unstable; urgency=high

  * New upstream release.
    - Fixes a vulnerability in the RTP codec payload type handling
      (AST-2008-002, CVE-2008-1289).
    - Fixes a critical vulnerability that could be exploited to bypass SIP
      authentication (AST-2008-003, CVE-2008-1332).
    - Fixes a potential DoS vulnerability in the Manager interface
      (AST-2008-004, CVE-2008-1333).
  * Urgency high because of critical security fixes.

 -- Faidon Liambotis <paravoid@debian.org>  Wed, 19 Mar 2008 00:49:17 +0200

asterisk (1:1.4.18~dfsg-1) unstable; urgency=low

  [ Faidon Liambotis ]
  * Update debian/copyright (packaging copyright, formatting etc.)
  * Remove workaround for gcc ICE on hppa (#445336), since apparently that has
    been fixed.
  * Do not provide asterisk-classic/asterisk-bristuff, we don't want to
    satisfy those dependencies anymore.
  * Provide asterisk-1.4 virtual package, so that all reverse-dependencies
    that use 1.4's ABI can depend on that.
  * Switch asterisk-h323 to the new asterisk-1.4 dependency.
  * Remove libc-client-dev dependency since it is satisfied in etch by a
    version (2002) incompatible to the one that works. (Closes: #465524)
  * Backport upstream's patch for chan_vpb to avoid crashes when no
    VoiceTronix cards are present. (Closes: #466729)
  * Backport feature Bridge from 1.6, thanks to Jon Webster. (Closes: #458475)

  [ Tzafrir Cohen ]
  * New upstream release.
  * Break bristuff BRI/EuroISDN patch:
  - zapata_num_spans - already accepted by upstream. Independent of libpri
    bristuff patch.
  - zapata-bri+euroisdn - now does not depend on most bristuff interface
    changes. But lacks:
  - zapata_euroisdn_holded - Support for putting an ISDN phone on hold.
    Depends on some other bristuff patches, and adds another interface change.
  * patch use-libpri-bristuffed right next to zapata-bri+euroisdn, as
    zapata-bri+euroisdn depends on it to build.
  * patch tos-libcap remeved: merged by upstream.
  * Adjusted patch bristuff/ast-device-state-CID to Asterisk 1.4.18.

 -- Faidon Liambotis <paravoid@debian.org>  Thu, 06 Mar 2008 04:32:33 +0200

asterisk (1:1.4.17~dfsg-2) unstable; urgency=low

  * Allow building vs. libc-client2007 (Closes: #458877).

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Thu, 03 Jan 2008 15:14:23 +0200

asterisk (1:1.4.17~dfsg-1) unstable; urgency=low

  * New upstream release. Fixes ASA-2008-001.

 -- Faidon Liambotis <paravoid@debian.org>  Thu, 03 Jan 2008 00:27:16 +0200

asterisk (1:1.4.16.2~dfsg-2) unstable; urgency=low

  * asterisk.init: fix start so that it works again. (Closes: #458022)

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Fri, 28 Dec 2007 02:46:38 +0200

asterisk (1:1.4.16.2~dfsg-1) unstable; urgency=low

  * New upstream release. (Closes: #457063) (Fixes CVE-2007-6430)
    - Remove keep-1.4-abi, merged upstream.
    - Adapt hack-multiple-app-voicemail, use-libpri-bristuffed, tos-libcap.
    - Adapt bristuff patches app-dial-etc, chan-iax2-hangup-cause,
      app-dial-priority-202, zapata-bri+euroisdn.
  * Silence upstream's build sum warning but generate one on all modules so
    that we can enable it at a later point.
  * Make the init script's detection of a running daemon to be more precise.
  * Bump Standards-Version to 3.7.3, no changes needed.
  * Remove modem.conf on upgrades from 1.2 (i.e. etch). (Closes: #454332)
  * Ressurect long-forgotten logrotate script.

 -- Faidon Liambotis <paravoid@debian.org>  Fri, 21 Dec 2007 22:38:03 +0200

asterisk (1:1.4.15~dfsg-1) unstable; urgency=low

  * New upstream release (Closes: #452054)
    - Fix a potential corrupt of voicemail.conf on simultaneous PIN updates
      (Closes: #353227)

  [ Tzafrir Cohen ]
  * Add some sample/reference config files as documentation.
  * Provide asterisk-bristuff for upgrading from Etch.
  * Move libc-client to not be last, so debian/backports/xorcom.etch would
    still work.

  [ Faidon Liambotis ]
  * Really enable the libcap/ToS functionality; the previous patch didn't
    enable the functionality, even though the code and the libcap.so
    dependency were there. (Closes: #454342)
  * Fix a minor issue with init script's stop target when running with
    safe_asterisk.
  * Add chan_vpb, adding support for VoiceTronix OpenSwitch and OpenLine
    cards. (Closes: #396499)
  * Fix debian/watch by using a pkg-voip wrapper to avoid upstream's silly
    redirections. (Closes: #449706)
  * Use DEBVERSION as asterisk's version string.
  * Disable the MD5 build sum that breaks all out-of-tree plugins (duh!).
  * Create /usr/local/share/asterisk/sounds to put all site-specific
    non-modifiable sounds.
  * Add a note about bugs.debian.org to the banner.
  * Add noload for res_config_* since loading them results in errors and
    doesn't provide any functionality.
  * News entries were added but we never shipped the file; ship NEWS.Debian.
  * Add an entry to NEWS.Debian warning users about app_voicemail_*.so
    (Closes: #452596)
  * Provide options in /etc/default/asterisk for configuring safe_asterisk.
    (Closes: #381786)

  [ Tzafrir Cohen ]
  * Provide a custom sounds directory under /var/lib - user-modifieble at
    runtime and hence not under /usr. (Closes: #337209)

 -- Faidon Liambotis <paravoid@debian.org>  Thu, 06 Dec 2007 17:20:21 +0200

asterisk (1:1.4.13~dfsg-1) unstable; urgency=low

  * New upstream release.
    - Implemented Dynamic DUNDi peering support (Closes: #439331)
    - Removed merged patches: bashism-safeasterisk, ast_key_dir,
      h323-add-missing-ptrace-guard, CVE-2007-4521.
    - Adapted patches: make-clean-fixes, h323-no-deps-on-asterisk.
    - Adapted bristuff 0.4.0-test4 to apply to 1.4.12 (bristuff.notice,
      xagi, app-dial-c-callback, app-dial-priority-202)
  * When DFSG-ing the tarball, create a fake codecs/ilbc/Makefile so that
    make doesn't fail on clean.
  * Pass NOISY_BUILD to make so that the GCC arguments can be examined in
    build logs.
  * Remove versioned dependency on dpkg-dev since that particular version is
    present since etch (sarge is not supported as a backport target anymore).
  * Backport a patch from trunk so that Asterisk can set the IP ToS bits when
    it is run as a simple user (as we do).
  * Re-enable IMAP support and enable ODBC support; this time they are
    provided as app_voicemail_imap.so and _odbc.so so that they don't break
    existing setups.
  * Build with -O1 on hppa to workaround gcc-4.2 ICE (#445336).
  * Zaptel package added support for Voicetronix OpenPCI cards, mention it on
    asterisk's description.

 -- Faidon Liambotis <paravoid@debian.org>  Wed, 10 Oct 2007 22:18:16 +0300

asterisk (1:1.4.11~dfsg-4) unstable; urgency=low

  * Remove imap support to get back original files voicemail functionality.
  * Fix comment in patches/bristuff/zapata-bri+euroisdn (by nickzxcv).

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Sun, 30 Sep 2007 15:12:09 +0200

asterisk (1:1.4.11~dfsg-3) unstable; urgency=low

  * Depend on libsnmp-dev instead of libsnmp10-dev. Fixes FTBFS
    (Closes: #444322)

 -- Faidon Liambotis <paravoid@debian.org>  Fri, 28 Sep 2007 05:58:29 +0300

asterisk (1:1.4.11~dfsg-2) unstable; urgency=low

  [ Faidon Liambotis ]
  * Depend on libpri-dev >= 1.4.1-1 for the bristuffed header.
    (Closes: #439197)
  * Added a 1.4 backport of the DEVSTATE() dialplan function which allows
    retrieving any device state in the dialplan, as well as creating custom
    device states that are controllable from the dialplan.
  * Replace Build-Depends libc-client-dev (which wasn't used) with
    libc-client2006j2-dev and enable Voicemail IMAP storage
    (configure-libc-client).
  * Build depend on libcurl4-openssl-dev instead of libcurl4-dev which is a
    virtual package. This also means using the more complete OpenSSL libcurl
    backend instead of the GnuTLS one.
  * Add a versioned >= 1.4 dependency of asterisk in asterisk-h323.
  * Don't use MAKEFLAGS as a variable in debian/rules since it has a special
    meaning for make. Reported by Simon Richter.
  * Add Homepage field, as supported by dpkg 1.14.6.
  * Fix init.d stop when using safe_asterisk. (Closes: #376514)
  * Drop asterisk-web-vmail package and place the script in
    /usr/share/doc/asterisk.
  * Move static-http and sample.call to asterisk's examples.

  [ Kilian Krause ]
  * Update backports scripts for libcurl4*-dev
  * Fix IMAP crash with upstream source snipplet. (Closes: #440187)

  [ Tzafrir Cohen ]
  * Support increasing open files limit from init.d script.

 -- Faidon Liambotis <paravoid@debian.org>  Wed, 26 Sep 2007 13:32:01 +0300

asterisk (1:1.4.11~dfsg-1) unstable; urgency=low

  [ Tzafrir Cohen ]
  * Remove libgtk2.0-dev from Build-Depends since the GTK+ console was not
    getting built anyway.

  [ Kilian Krause ]
  * Add dpkg-dev (>= 1.13.19) to Build-Depends for binary:Version and
    source:Version.

  [ Faidon Liambotis ]
  * New upstream release. (Closes: #439062)
    - AST-2007-020 Resource Exhaustion vulnerability in SIP channel driver
  * Switch to quilt as a patch management system instead of dpatch.
  * Add bristuff 0.4.0-test4
    - Split into smaller, individual patches (bristuff/).
    - Mention HFC-S/HFC-4S support in the Description.
    - Use libpri-bristuffed.so.1 and its respective header
      (use-libpri-bristuffed).
    - Ship xagi-test.c as an example.
    - Add a news item to NEWS.Debian stating bristuff's inclusion.
  * Major overhaul of the postinst scripts, completely replacing asterisk_fix.
    - Create Asterisk's directories on asterisk.dirs to track them using dpkg.
    - Add asterisk.postinst which calls adduser, chown, chmod. Improve error
      handling.
    - Don't do unnecessary stuff on asterisk-config postinst.
      (Closes: #431506)
    - chmod /etc/asterisk on build-time to allow the user to modify the
      permissions; this required a lintian override.
    - Honor dpkg-statoverride on all the chowned/chmoded directories and
      configuration files under /etc/asterisk.
    - Handle asterisk-config -> asterisk installation order properly
      (Closes: #408708)
    - Don't add asterisk user to audio and dialout groups if existed before.
      This allows the administrator to remove the membership.
    - Don't depend on adduser from asterisk-config.
  * Remove Suggests to gnomemeeting (it's a dummy package nowdays),
    asterisk-rate-engine and add one for twinkle.
  * Remove Conflicts for an old version of asterisk-oh323 which was only
    present until sarge.
  * Remove versioned dependencies on ancient (pre-sarge) versions of sed and
    adduser.
  * Patch channels/h323/ast_h323.cxx to add some missing PTRACING #ifdef
    (h323-add-missing-ptrace-guard).
  * h323-workaround-openh323-segfault patch: workaround a libopenh323 bug
    (#438815) which causes Asterisk to segfault on startup. (Closes: #435146)
  * Remove -XCVS from dh_installexamples arguments. Upstream doesn't use CVS
    anymore.
  * Add a README.Debian for asterisk-h323 that explains the differences
    between the different H.323 channel drivers, taken from the asterisk-oh323
    package.
  * Clarify asterisk-h323's description and mention the other channel drivers.
  * Suggest asterisk-h323 from asterisk.

 -- Faidon Liambotis <paravoid@debian.org>  Wed, 22 Aug 2007 20:55:12 +0300

asterisk (1:1.4.10~dfsg-1) unstable; urgency=low

  * New upstream release
    - Fwd: [asterisk-announce] ASA-2007-019: Remote crash vulnerability in
    Skinny channel driver (Closes: #436808)

  [ Mark Purcell ]
  * debhelper(1) states Build-Depends: debhelper (>= 5)
    - aids backports
  * Update debian/backports for etch, edgy, dapper and feisty
    - http://status.buildserver.net/packages/status.php?package=asterisk&subdist=pkg-voip

  [ Faidon Liambotis ]
  * Refer to /usr/share/common-licenses/GPL-2 instead of GPL. The code is
    -for now- GPLv2-only and in light of GPLv3, pointing to GPL is misleading.
  * Add ast_key_dir patch to move keys from /var/lib/asterisk/keys to
    /usr/share/asterisk/keys where they should be.
  * Actually ship keys, including Junction Networks' by fixing pubkey_jnctn
    patch.
  * Handle space/newline-delimited directories on /etc/asterisk when doing
    chmod on postinst.
  * Correct descriptions of packages in debian/control, adapting them to the
    present and correcting some spelling mistakes. (Closes: #428671)
  * Add a noload directive for cdr_sqlite.so in the default modules.conf since
    it writes unconditionally to the database file without being rotated,
    resulting in unexpected waste of disk space. (Closes: #301883)
  * Delete duplicated creation of /var/run/asterisk in the init script.

 -- Mark Purcell <msp@debian.org>  Thu, 09 Aug 2007 22:47:00 +0100

asterisk (1:1.4.9~dfsg-1) unstable; urgency=high

  [ Tzafrir Cohen ]
  * New upstream release.
    - ASA-2007-018 - DoS Resource Exhaustion vulnerability in IAX2

  [ Faidon Liambotis ]
  * Add myself to Uploaders.
  * Fix "debian/rules clean" to cleanup correctly the tree by calling "make
    distclean" instead of "make clean". Also, fix some stuff in the upstream
    Makefiles (debian/patches/make-clean-fixes). Fixes a lintian warning.
  * Add XS-Vcs-Svn and XS-Vcs-Browser to debian/control.
  * Move examples from all packages (debian/examples) to asterisk-config only.
  * Add eagi-test.c, eagi-sphinx-test.c, fastagi-test and static-http to
    examples.
  * Remove Conflicts/Replaces/Depends to pre-sarge versions, they're useless
    even for backports.

  [ Mark Purcell ]
  * Include asterisk.init changes from Martin
    - Asterisk does not create /var/run/asterisk directory if not existent
    (Closes: #413541)
  * Backout asterisk-h323 Suggests:/ Recommends: asterisk-oh323. The former
    works, the latter does not with asterisk-1.4.x
  * Upstream fixes from 1.4.x branch:
    - Multiple security flaws in Asterisk (Closes: #421467)
    - Debug switch wrong in /etc/default/asterisk (Closes: #413544)
    - Upgrading destroys astdb (Closes: #354132)
    - Upgrading destroys astdb (Closes: #354132)
    - asterisk bindaddr in sip and iax config is to fixed ip not
      Interfaces (Closes: #316443)
    - Incorrect callerid syntax in sip.conf causes incorrect error
    (Closes: #323275)
    - dropouts (Closes: #335079)
    - Does not include cdr_sqlite userfield support by default (Closes:
    #344097)
    - Asterisk crashes on sparc when playing &#39;demo-moreinfo&#39;
    (Closes: #344484)
    - fresh install - crash after dialing IAX test (Closes: #350001)
    - asterisk_fix script fails to set variables for adduser, user
    creation fails (Closes: #383075)
    - Debug switch wrong in /etc/default/asterisk (Closes: #413544)
    - When using L option on Dial, instead of warning asterisk disconnects
    the call (Closes: #419894)
    - Patch for fastagi handling (Closes: #368948)
    - bristuff patch breaks cause codes in Hangup() (Closes: #320350)
  * add debian/patches/basim-safeasterisk.dpatch
    - contrib/scripts/safe_asterisk should explicitly link to a cli
    (Closes: #413543)
  * Adding a restart when convenient in Asterisk (Closes: #413816)
  * asterisk-h323: libpt.so.1.10.2 => not found (Closes: #434076)

 -- Mark Purcell <msp@debian.org>  Thu, 26 Jul 2007 16:52:29 +0100

asterisk (1:1.4.8~dfsg-2) unstable; urgency=low

  * Add patch from Faidon debian/patches/dbug433884.dpatch:
    - Should not depend on libopenH323, libpt, libSDL, libssl, libldap,
    ... (Closes: #433884)
    - Fails to restart after upgrade due to dep on libpt.so.1.10.2
    (Closes: #434066)

 -- Mark Purcell <msp@debian.org>  Sat, 21 Jul 2007 11:41:01 +0100

asterisk (1:1.4.8~dfsg-1) unstable; urgency=high

  * New upstream release
    - ASA-2007-017: Remote crash vulnerability in
    STUN implementation (Closes: #433681)
  * Urgency high for remote crash vulnerability
  * Updated standard version to 3.7.2 .

 -- Mark Purcell <msp@debian.org>  Wed, 18 Jul 2007 20:51:46 +0100

asterisk (1:1.4.6~dfsg-1) unstable; urgency=low

  [ Mark Purcell ]
  * CVE-2007-2488 was addressed 1:1.4.5~dfsg-1
  * CVE-2007-1595 was addressed 1:1.4.0~dfsg-1

  [ Tzafrir Cohen ]
  * New upstream release.
  * Added asterisk-dbg for debugging symbols.
  * Updated priorities of some packages.
  * Updated list of supported hardware in description.

 -- Mark Purcell <msp@debian.org>  Wed, 04 Jul 2007 18:31:00 +0100

asterisk (1:1.4.5~dfsg-1) unstable; urgency=low

  [ Tzafrir Cohen ]
  * New upstream release.

  [ Mark Purcell ]
  * Debconf7 Release :-)
  * Build-Depends: libpq-dev
    - obsolete build dependency postgresql-dev (Closes: #389376)

 -- Mark Purcell <msp@debian.org>  Mon, 18 Jun 2007 10:18:13 +0100

asterisk (1:1.4.4~dfsg-3) unstable; urgency=low

  * Build-Depends: libcurl4-dev | libcurl-dev
    - uninstallable due to dependancy on libcurl3 (Closes: #426393)

 -- Mark Purcell <msp@debian.org>  Sat, 02 Jun 2007 10:52:05 +0100

asterisk (1:1.4.4~dfsg-2) unstable; urgency=low

  * Missing debian/changelog entries
  * Upstream calls make twice to build h323, copy in debian/rules
    - Asterisks chan_h323 doesn't work because of an undefined symbol
    (Closes: #421552)
  * Cleanup debian/patches
  * chmod +x asterisk-fix
    - Setting up asterisk (1.4.3~dfsg-1) -> id: asterisk: No such user
    (Closes: #422237)

 -- Mark Purcell <msp@debian.org>  Thu, 17 May 2007 07:35:30 +0100

asterisk (1:1.4.4~dfsg-1) unstable; urgency=low

  * New Upstream Release
    - Fix a crash in chan_zap
    - Fix some cases where IAX2 calls would get dropped
    - Merge a re-write of channel group counting support that fixes a lot of
    issues
    - Fix some DTMF issues related to the use of chan_agent
    - Fix a crash that occurs when using dialplan functions to set global
    variables

 -- Mark Purcell <msp@debian.org>  Wed, 25 Apr 2007 18:11:44 +1000

asterisk (1:1.4.3~dfsg-1) unstable; urgency=high

  * Urgency high as this fixes a number of Asterisk Security Advisories (ASA)

  * New upstream release
    - [asteriskteam@digium.com: [asterisk-announce] ASA-2007-011: Multiple
    problems in SIP channel parser handling response codes] (Closes:
    #420864)
    - [asteriskteam@digium.com: [asterisk-announce] ASA-2007-012: Remote
    Crash Vulnerability in Manager Interface] (Closes: #420866)
    - [asteriskteam@digium.com: [asterisk-announce] ASA-2007-010: Two
    stack buffer overflows in SIP channel's T.38 SDP parsing code]
    (Closes: #420868)
    - CVE-2007-1594: Asterisk segfaults upon receipt of a certain SIP
    packet (SIP Response code 0) (Closes: #419820)

  * Update debian/NEWS to broadcast the demise of bristuff
  * Asterisk-classic, asterisk-bristuff are depreciated
    - asterisk has circular Depends on asterisk-bristuff|asterisk-classic
    (Closes: #384674)
  * Ship UPGRADE.txt and refer to it in debian/NEWS
    - UPGRADE.txt cannot be found in any package (Closes: #419164)

 -- Mark Purcell <msp@debian.org>  Wed, 25 Apr 2007 16:47:31 +1000

asterisk (1:1.4.2~dfsg-5) unstable; urgency=low

  * Bump Build-Depends: libsnmp10-dev | libsnmp-dev
  * Only ship default/asterisk in asterisk package
    - Asterisk-config and asterisk 1:1.4.2~dfsg-4 both contain
    /etc/default/asterisk (Closes: #418656)
  * Lintian fixes debian-rules-sets-DH_COMPAT

 -- Mark Purcell <msp@debian.org>  Sat, 14 Apr 2007 16:44:18 +0100

asterisk (1:1.4.2~dfsg-4) experimental; urgency=low

  [ Tzafrir Cohen ]
  * The dummy fetch was not executable when generated from tar+diff.

  [ Mark Purcell ]
  * Create debian/rules binary-arch & binary-indep targets
  * Move debian/rules magic to package.install files

 -- Mark Purcell <msp@debian.org>  Thu, 29 Mar 2007 00:31:41 +0100

asterisk (1:1.4.2~dfsg-3) experimental; urgency=low

  * Fix syntax of for dummy fetch (Closes: #416143).
  * LSB init section in init.d script.
  * Merge other init.d changes from trunk.

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Sun, 25 Mar 2007 16:19:37 +0200

asterisk (1:1.4.2~dfsg-2) experimental; urgency=low

  [ Tzafrir Cohen ]
  * Fix default varrundir using make vars (Closes: #415799).
  * Don't run autoconf if you don't need (Closes: #415865).
  * Require zaptel >= 1.4.1, for ZT_EVENT_REMOVED .

  [ Mark Purcell ]
  * Include chan_h323.so in debian/asterisk-h323.install
  * Please package Asterisk-1.4.0 (Closes: #405723)
  * Add Build-Depends: libgtk2.0-dev, libc-client-dev
  * configure --with-pwlib=/usr/share/pwlib/include/ \
     --with-h323=/usr/share/openh323/
  * debian/asterisk.default - fix -D/-d typo in PARAMS (Closes LP#68169)
  * debian/asterisk.init:
    - create /var/run/ directory if necessary and set proper permissions
  * Move dh_installinit to architecture dependant
  * Move ASTVARRUNDIR to /var/run/asterisk/
    - PID & control files go in wrong place (Closes: #415799)

 -- Mark Purcell <msp@debian.org>  Sat, 24 Mar 2007 18:32:45 +0000

asterisk (1:1.4.2~dfsg-1) experimental; urgency=low

  * New upstream release.
    - SIP INVITE DoS, supposedly fixed in 1.4.2 and 1.2.17, which is
    released today 19/03/2007 (Closes: #415466)
  * asterisk Depends: ${shlibs:Depends}

 -- Mark Purcell <msp@debian.org>  Tue, 20 Mar 2007 19:07:18 +0000

asterisk (1:1.4.1~dfsg-1) experimental; urgency=low

  [ Tzafrir Cohen ]
  * New upstream release.
    - Please package Asterisk-1.4.0 (Closes: #405723)
  * A package that builds.
  * Removed asterisk-sounds.install: does not belong here.
  * Removed makefile_noiaxy.dpatch: applied by upstream.
  * Config examples in a separate examples subdirectory.
  * Generate explicitly some missing subdirectories.
  * Man pages are included in upstream now.
  * set ASTDATADIR=/usr/share/asterisk .
  * A bunch of other fils moved for 1.4 .
  * Use system gsm (only requires an explicit --with-gsm)
  * Allow chrooted building with no wget.
  * h323_no_exit.dpatch: Don't requires two rounds of building.

  [ Mark Purcell ]
  * configure --host=$(DEB_HOST_GNU_TYPE) --build=$(DEB_BUILD_GNU_TYPE)
    --prefix=/usr --mandir=\$${prefix}/share/man --
    infodir=\$${prefix}/share/info

 -- Mark Purcell <msp@debian.org>  Mon, 19 Mar 2007 06:24:43 +0000

asterisk (1:1.4.0~dfsg-1) UNRELEASED; urgency=low

  * New upstream release (1.4)
  * Sandbox to start playing with 1.4, it uses autotools :-), 
    it also uses ASTDATADIR :-) :-)
  * need to understand this menuselect and how to encorporate into debian.
  * need to discuss with upstream iLBC conflict with GPL
  * Ugly hack in version number.
  * get-orig-source now works, though.
  * No more asterisk-classic and asterisk-bristuff
  * FreePlay Music files location changed
  * Disabling h323 build for now, until I figure what's wrong.
  * Extra Build-Deps: libiksemel-dev, libradiusclient-ng2-dev, freetds-dev, 
    libvorbis-dev, libsnmp9-dev
  * Simply use configure. No workarounds.
  * Edit menuselect.makeopts to avoid downloading MOH files.
  * makefile_noiaxy.dpatch: don't try to copy the non-existing iaxy.bin ,
  * zapbri.dpatch: support zapbri devices
  * chanzap_chanremoved.dpatch: handle ZT_EVENT_REMOVED event from zaptel

 -- Mark Purcell <msp@debian.org>  Mon, 25 Sep 2006 08:46:16 +0100

asterisk (1:1.2.16~dfsg-1) unstable; urgency=high

  [ Tzafrir Cohen ]
  * New upstream release. Also fixes remote SIP security hole.
  * Updated bristuff patch.
  * Fix umask of Asterisk for the voicemail.

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Sun,  4 Mar 2007 00:35:53 +0200

asterisk (1:1.2.15~dfsg-1) unstable; urgency=low

  [ Tzafrir Cohen ]
  * New upstream release.
  * ukcid.dpatch: adapted to chan_conf.
  * bristuff.dpatch: adapted to chan_conf.
  * daemon_color.dpatch: make rastrisk colourful even without safe_asterisk.
  * No need to edit a config file to start Asterisk.
  * Use asterisk.conf based on README.asterisk.conf:
  - Set default user to asterisk.
  - Make the control socket writabe by the group asterisk.
  * don't remove stereorize and streamplayer.
  * A man page for stereorize.
  * Create /etc/asterisk/manager.d (Closes: #410715).
  * Check that Asterisk is alive before sending a command (Closes: #389448).
  * Use MAKEBUILDOPTS instead of MAKEFLAGS, which is a reserved gmake name.
  * Removing build depepndency on obsolete and unused libzap-dev.
  * New transcoding interfaces from zaptel.h of zaptel 1.2.13 or 1.4 seem
    to be required for Asterisk 1.2.15 .

 -- Mark Purcell <msp@debian.org>  Sat,  3 Mar 2007 17:14:25 +0000

asterisk (1:1.2.14~dfsg-5) UNRELEASED; urgency=low

  [ Tzafrir Cohen ]
  * Bristuff 0.3.0-PRE-1x

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Mon, 22 Jan 2007 23:30:34 +0200

asterisk (1:1.2.14~dfsg-4) unstable; urgency=high

  * Add missing "fi" to asterisk_fix. (Closes: #406961)

 -- Kilian Krause <kilian@debian.org>  Mon, 15 Jan 2007 12:05:18 +0100

asterisk (1:1.2.14~dfsg-3) unstable; urgency=low

  * Write a more robust version of the FHS-update for
    /usr/share/asterisk/sounds/priv-callerintros.
  * Update 30_ast-data-dir to complete fix for #406714. Thanks to Lionel!

 -- Kilian Krause <kilian@debian.org>  Sun, 14 Jan 2007 13:38:57 +0100

asterisk (1:1.2.14~dfsg-2) unstable; urgency=low

  * Install private callerinfos in /var/lib/ where they belong acording to
    FHS. (Closes: #406714)

 -- Kilian Krause <kilian@debian.org>  Sat, 13 Jan 2007 12:01:33 +0100

asterisk (1:1.2.14~dfsg-1) unstable; urgency=low

  * New upstream release.
  * Build against libspeex-dev (>= 1.1.12-3) with updated shlibs
    (Closes: #403544)
  * Update bristuff patch to apply cleanly with 1.2.14 until new upstream
    version is out.
  * Remove hardcoded gcc (Closes: #316802)
  * Fix upstream clean target. (Closes: #393659)

 -- Kilian Krause <kilian@debian.org>  Wed,  3 Jan 2007 21:03:19 +0100

asterisk (1:1.2.13~dfsg-2) unstable; urgency=low

  [ Tzafrir Cohen ]
  * less_docs.dpatch: remove unnecessary doxygen docs. asterisk-doc's size
    is now 1.6M (7.7M installed).

  [ Mark Purcell ]
  * asterisk-classic, asterisk-bristuff:
    /usr/lib/asterisk/modules/format_ogg_vorbis.so gone missing when
    rebuilt (Closes: #397147)

 -- Mark Purcell <msp@debian.org>  Mon,  6 Nov 2006 06:33:19 +0000

asterisk (1:1.2.13~dfsg-1) unstable; urgency=high

  [ Kilian Krause ]
  * Fixup dfsg versions with increased upstream build count.

  [ Santiago Ruano RincÃ³n ]
  * Added cdr_sqlite3_custom dpatch

  [ Mark Purcell ]
  * New upstream release
    - Remote compromise (Closes: #394025)
    - CVE-2006-5444/5:security issues in asterisk (Closes: #395080)
    - Urgency high as this fixes remote compromise security issue
    - Information disclosure of voice mail messages through vmail.cgi
    (Closes: #338116)
    - package asterisk-dev should contain asterisk.h main header (Closes:
    #342138)
    - format_ogg_vorbis.so was present in i386, no longer in packages
    (Closes: #375141)
  * Update debian/patches/bristuff.dpatch
  * bristuff-0.3.0-PRE-1v
    - Please package bristuff 0.3.0PREu (Closes: #394122)
    - please include app_pickup.c from bristuff (Closes: #348194)
  * Build Depends: dpkg ( >= 1.13.19)
    - Asterisk must build-depend upon dpkg ( >= 1.13.19) (Closes: #386113)
  * Build-Depends: libpq-dev
    - obsolete build dependency postgresql-dev (Closes: #389376)

 -- Mark Purcell <msp@debian.org>  Wed, 25 Oct 2006 06:46:52 +0100

asterisk (1:1.2.12.1.dfsg-1) unstable; urgency=low

  [ Tzafrir Cohen ]
  * New upstream release
  * bristuff.dpatch: version adapted.
  * apprecord_sprintf.dpatch removed: already applied.

  [ Mark Purcell ]
  * binary blob in asterisk-classic package (Closes: #386361)
  * Cleanup bristuff.dpatch

 -- Mark Purcell <msp@debian.org>  Sun, 24 Sep 2006 14:45:58 +0100

asterisk (1:1.2.11.dfsg-1) unstable; urgency=high

  [ Tzafrir Cohen]
  * apprecord_sprintf.dpatch: fix format string issue in app_record.so .

  [ Mark Purcell ]
  * New Upstream Release
  * Urgency high as fixes CVE-2006-4346
  * CVE-2006-4346: Asterisk MGCP AUEP Response Handling Buffer
    Overflow (Closes: Bug#385060)
  * Please package Asterisk 1.2.11 and Zaptel 1.2.8 (Closes: #384283)
  * Better error handling on init.d reload, if asterisk isn't running
  * Lintian cleanup: not-binnmuable-any-depends-all
  * Lintian cleanup: not-binnmuable-all-depends-any
  * Use restart in asterisk_fix

 -- Mark Purcell <msp@debian.org>  Sat,  2 Sep 2006 13:01:02 +0100

asterisk (1:1.2.10.dfsg-3) unstable; urgency=low

  [ Kilian Krause ]
  * Add iaxy.bin to asterisk debs to have working IAX support.
  * asterisk_fix is included on the main asterisk package
    (Closes: Bug#287025, Bug#360233, Bug#381861)
  * Various fixes to asterisk_fix

  [ Mark Purcell ]
  * Remove Build-Depends: libgtk1.2-dev (only for asterisk-gtk)
  * export PROC := $(shell dpkg-architecture -qDEB_BUILD_GNU_CPU)
  * asterisk-{classic-bristuff} Depends: asterisk
  * asterisk_fix needs to fix /var/run/asterisk
  * Move doc/asterisk -> asterisk-doc package
  
  [ Tzafrir Cohen]
  * New upstream release (Closes: #385060).
  * bristuff 0.3.0-PRE-1s (adapted to asterisk 1.2.11).

 -- Mark Purcell <msp@debian.org>  Thu, 17 Aug 2006 20:31:02 +0100

asterisk (1:1.2.10.dfsg-2) unstable; urgency=high

  * IAX2 channel driver security patch [CVE-2006-2898]
    - CVE-2006-2898: Denial of service in Asterisk (Closes: #380054)

 -- Mark Purcell <msp@debian.org>  Thu, 27 Jul 2006 08:09:47 +0100

asterisk (1:1.2.10.dfsg-1) unstable; urgency=low

  [ Tzafrir Cohen ]
  * New upstream release.
  * bristuff.dpatch updated for the new version.
  * dfsg tarball also removes ilbc.
  * Cleanups to asterisk_fix

  [ Mark Purcell ]
  * Build-Depends: libpri-dev (>= 1.2.3-1)
  * Fixes:
    - Please package version 1.2.9.1 (Closes: #372527)

 -- Mark Purcell <msp@debian.org>  Mon, 17 Jul 2006 21:15:50 +0100

asterisk (1:1.2.9.1.dfsg-1) unstable; urgency=high

  * New  upstream release. [CVE-2006-2898]

  [ Mark Purcell ]
  * Update debian/watch for numeric upstream versions

  [ Kilian Krause ]
  * Remove unused correct_pid.dpatch (has apparently been fixed with 1.2
    upstream)
  * debian/patches/100_nonroot.dpatch, debian/patches/20_Makefile.dpatch,
    debian/patches/25_subdirs_Makefiles.dpatch: Remove unused patches

  [ Tzafrir Cohen ]
  * reunite init.d and logrotate scripts in the package asterisk
  * Re-add correct_pid_display.dpatch
  * bristuff 0.3.0-PRE1s (gsm functionality missing: needs libgstam)
  * sys_readline.dpatch: Realine support in the CLI. TODO: tab completion
  * sys_editline.dpatch: alternativly, simply use the system version of
    editline (not used).
  * func_odbc_12.dpatch: backport of func_odbc (Closes: #364633)
  * brazilian_syntax.dpatch (using "pt_BR")
  * vm_he.dpatch: Hebrew in app_voicemail
  * The data_dir patch also moves agi-bin/ and firmware/
  * option_detach: using -F instead of -D (the same as upstream)
  * asterisk.init: added "zaptel-fix" to unload and reload zaptel modules

 -- Kilian Krause <kilian@debian.org>  Fri, 16 Jun 2006 18:04:50 +0000

asterisk (1:1.2.7.1.dfsg-3) unstable; urgency=high

  * Urgency high as this is a security fix [CVE-2006-2898]
  * Added 99_CVE-2006-2898.dpatch from Joey Schulze
    - Fixes: Bug in the IAX2 channel allows remote attackers to craft
     a denial of service.

 -- Mark Purcell <msp@debian.org>  Tue, 13 Jun 2006 05:11:44 +0100

asterisk (1:1.2.7.1.dfsg-2) unstable; urgency=high

  [ Kilian Krause ]
  * Urgency bumped since 1.2.7 is a security update [CVE-2006-1827]
    (Closes: #364195)

  [ Mark Purcell ]
  * Previous Upload also fixes:
    - cannot install - directories not created (Closes: #360233)
    - package uninstallable (Closes: #359970)
  * Update postinst to fix: fails to upgrade when /etc/asterisk/voicemail.conf
    is deleted (Closes: #360220)
  * Link debian/asterisk-bristuff.asterisk.{logrotate,init} & 
    provide debian/asterisk-classic.asterisk.logfile
    - Fixes: init.d and logrotate.d conflicts (Closes: #360181)

 -- Mark Purcell <msp@debian.org>  Sun, 23 Apr 2006 13:26:29 +0100

asterisk (1:1.2.7.1.dfsg-1) unstable; urgency=low

  [ Tzafrir Cohen ]
  * New upstream release.
  * nomarch.dpatch: removed the patching to internal libgsm, as we don't use
    it (and it broke in this version)
  * bristuff.dpatch: based on the patch from bristuff-0.3.0-PRE1n
  * bristuff.dpatch: A small fix in chan_sip.c
  * bristuff.dpatch: Disabling "libgsm" until it is renamed
  * 30_ast-data-dir.dpatch: the symlink sounds/voicemail is now gone
  * rules: do fail if bristuff patching hasfailed
  * zap_restart.dpatch: allow restarting zaptel channel with "zap restart"
  * backport_playdtmf.dpatch: a harmless backport (no impact if not used)
  * completed the merge of logrotate and init.d scripts

  [ Lionel Elie Mamane ]
  * When not running asterisk, do it successfully, not by failure.
    (closes: #360234)
  * Create /var/log/asterisk/cdr-csv, not cdr-cvs.

  [ Mark Purcell ]
  * Update debian/control for asterisk-h323 package description
  * Create /var/spool/asterisk & /var/lib/asterisk in debian/*.postinst
  * New upstream release. Fixes:
    - Version 1.2.5 is out (Closes: #355299)
    - since 1.2.0 no chan_modem (Closes: #343232)
    - Undefined symbol in chan_zap.so (Closes: #339559)
    - Unapplying patches fail (Closes: #345676)
    - utils.c:619 tvfix: warning negative timestamp... (Closes: #347929)
    - creates /.asterisk_history on reboot (Closes: #307218)
  * h323 modules can be unstable so dont load my default
  * Cleanup debian/patches to remove obsolete/ old patches

 -- Mark Purcell <msp@debian.org>  Fri, 21 Apr 2006 17:33:31 +0100

asterisk (1:1.2.6.dfsg-1) unstable; urgency=low

  * New upstream release. (Closes: #355299)
  * correct_pid_display.dpatch: adjusted to 1.2.6
  * 30_ast-data-dir.dpatch: adjusted to 1.2.6
  * debian/control: Add adduser to depends of asterisk-config to shut up
    lintian.
  * rules: no need to copy config to the bristuff install
  * rules: but use cp -a for ast_config, as there may be subdirs.

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Mon, 10 Apr 2006 19:00:12 +0300

asterisk (1:1.2.4.dfsg-7) unstable; urgency=low

  * Recompile to fix missing asterisk-config from last binNMU round
    (Closes: #356712, #358413, #355524, #358145)
  * postinstall: Add /var/spool/asterisk/meetme if nonexistant.
    (Closes: #355046)
  * asterisk.init: Install both asterisk-classic and asterisk-bristuff with
    /etc/init.d/asterisk (Closes: #354729)
  * logroate: create /var/log/asterisk/cdr-custom/ as well as cdr-csv
    (Closes: #355048)
  * logrotate: share location of logrotate file as /etc/logrotate.d/asterisk
    for both classic and bristuff version (Closes: #356712)
  * delete chan_capi modules from bristuff
  * Move postinstall and postrm to asterisk-classsic, asterisk-bristuff and
    asterisk-config. (Closes: #355524)

 -- Kilian Krause <kilian@debian.org>  Thu, 30 Mar 2006 11:55:03 +0200

asterisk (1:1.2.4.dfsg-6) unstable; urgency=low

  * Add chan_h323 back with new Atlas_devel3 OpenH323.

 -- Kilian Krause <kilian@debian.org>  Sat, 18 Feb 2006 17:55:24 +0000

asterisk (1:1.2.4.dfsg-5) unstable; urgency=low

  * Fix install of asterisk-bristuff with dh_install.

 -- Kilian Krause <kilian@debian.org>  Tue, 14 Feb 2006 20:23:56 +0100

asterisk (1:1.2.4.dfsg-4) unstable; urgency=low

  * Create missing /var/spool/asterisk/voicemail in postinst (Closes: #352586)

 -- Kilian Krause <kilian@debian.org>  Sun, 12 Feb 2006 22:51:50 +0100

asterisk (1:1.2.4.dfsg-3) unstable; urgency=low

  * Fix asterisk-bristuff install target to catch correct versions.

 -- Kilian Krause <kilian@debian.org>  Sun, 12 Feb 2006 12:34:31 +0000

asterisk (1:1.2.4.dfsg-2) unstable; urgency=low

  * update to bristuff 0.3.0-PRE-1k

 -- Kilian Krause <kilian@debian.org>  Thu,  9 Feb 2006 18:12:08 +0000

asterisk (1:1.2.4.dfsg-1) unstable; urgency=low

  [ Tzafrir Cohen ]
  * Fix PID display (Closes: #338646)
  * changes to the init.d script (Tzafrir)
  * debian/ast_config/ place here configurutaion files that will override
    the defaults from the source, though not get into the sample documentation
    dir
  * debian/ast_config/manager.conf: asterisk does listen onthe manager by
    default, but only on localhost. Other packages need not edit manager.conf
    to get a manager acount
  * bristuff 0.3.0-PRE-1f
  * option_detach.dpatch: Adds option -D: always daemonize (even with -v,-d)
    (conflicts with bristuff, though)
  * ukcid.dpatch: UK Caller ID patch for the X100P. (Closes: #302380)

  [ Kilian Krause ]
  * New upstream release. (Closes: #350905)
  * Bumping depends on libpri and zaptel to according 1.2 versions.
  * Build-Depends on libpri1.2 since new ABI caused new package name.
  * Removed alternatives from Build-Depends since sbuild will only take first
    anyway to ensure constant rebuilds.
  * Add a noload for chan_capi by default, so that we d not stop loading when
    no CAPI is installed. (Closes: #328835)
  * Include smsq by adding Build-Depends on libpopt-dev (Closes: #348090)

 -- Kilian Krause <kilian@debian.org>  Sun,  5 Feb 2006 11:44:28 +0100

asterisk (1:1.2.1.dfsg-3) unstable; urgency=low

  * Remove -msoft-float from compile flags to fix compilation on arm.
    (Closes: #343154)
  * Provide nonexistant dirs before running chown on them. (Closes: #341810)
  * Depend on Perl module in libapache-dbi-perl or libdbi-perl or web-vmail
    (Closes: #337448)
  * Fix permissions on voicemail.conf. (Closes: #304615)
  * Build-Depend on gsfonts to have Helvetica font for doxygen
    (Closes: #343079)

 -- Kilian Krause <kilian@debian.org>  Mon,  2 Jan 2006 00:15:59 +0000

asterisk (1:1.2.1.dfsg-2) unstable; urgency=low

  [ Tzafrir Cohen ]
  * bristuff 0.3.0-PRE-1d . Still disabled by default
  * libpri_bristuffed.dpatch: link chan_zap with libpri-bristuffed.so.1
  * Use asterisk(8) as a man page for rasterisk
  * Removing binary steroize: can be done with soxmix of package sox.
  * Removing binary streamplay: can be done with netcat
  
  [ Kilian Krause ]
  * Fix asterisk-dev to include asterisk.h

 -- Tzafrir Cohen <tzafrir.cohen@xorcom.com>  Sat, 31 Dec 2005 21:17:44 +0200

asterisk (1:1.2.1.dfsg-1) unstable; urgency=low

  * New upstream release
    - Please package asterisk 1.2.1 (Closes: #342463)
  * Temporary disable bristuff for upstream release
  * sip-1.914.dpatch merged upstream

 -- Mark Purcell <msp@debian.org>  Wed,  7 Dec 2005 21:59:20 +0000

asterisk (1:1.2.0.dfsg-6) unstable; urgency=low

  * Add Build-Depends: libcurl3-dev | libcurl-dev
    - Should build-depend on libcurl3-dev (Closes: #341363)
  * Add Build-Depends: doxygen
    - Missing build-dependency on doxygen (Closes: #341362)
  * Build-Depends: adduser (>= 3.63)
  * disable chan_zap building (in channels makefile) against old
    libmfcr2 (Closes: #342139)
  * seperate api docs and configuration samples (Closes: #341395)
  * Add sip-1.913.dpatch; SIP error 400 on outgoing calls (Closes: #340574)

 -- Mark Purcell <msp@debian.org>  Mon,  5 Dec 2005 23:49:40 +0000

asterisk (1:1.2.0.dfsg-5) unstable; urgency=low

  [ Tzafrir Cohen ]
  * Added bristuff 0.3.0-PRE1

  [ Mark Purcell ]
  * asterisk-sounds-main Replaces: asterisk-sounds-extra
    - asterisk-sounds-{main,extra}: file conflict (Closes: #339791)

 -- Mark Purcell <msp@debian.org>  Thu,  1 Dec 2005 17:37:13 +0000

asterisk (1:1.2.0.dfsg-4) unstable; urgency=low

  * Fix 50_debian-libgsm.dpatch to apply correctly
    - asterisk - FTBFS: Tries to build a i386 assembler file (Closes:
    #340102)

 -- Mark Purcell <msp@debian.org>  Mon, 21 Nov 2005 19:56:03 +0000

asterisk (1:1.2.0.dfsg-3) unstable; urgency=low

  * Remove -march to fix FTBFS. (Closes: #338753)

 -- Kilian Krause <kilian@debian.org>  Sat, 19 Nov 2005 19:36:31 +0000

asterisk (1:1.2.0.dfsg-2) unstable; urgency=low

  * libreadline4-dev is superseeded by libreadline5-dev. Fixed build-depends.

 -- Kilian Krause <kilian@debian.org>  Sat, 19 Nov 2005 12:12:51 +0000

asterisk (1:1.2.0.dfsg-1) unstable; urgency=low

  * New upstream release

 -- Mark Purcell <msp@debian.org>  Thu, 17 Nov 2005 18:17:02 +0000

asterisk (1:1.2.0-rc2.dfsg-1) experimental; urgency=low

  * New upstream release

 -- Mark Purcell <msp@debian.org>  Sun, 13 Nov 2005 17:58:08 +0000

asterisk (1:1.2.0-rc1.dfsg-1) experimental; urgency=low

  * New upstream release
  * Suggests: asterisk-rate-engine
  * debian/rules touch .cleancount (upstream bug?)

 -- Mark Purcell <msp@debian.org>  Wed,  9 Nov 2005 22:05:30 +0000

asterisk (1:1.2.0-beta2.dfsg-3) experimental; urgency=low

  * Fix debian/patches/30_ast-data-dir with /var/run/asterisk. Thanks
    Alessandro Polverini

 -- Mark Purcell <msp@debian.org>  Tue,  8 Nov 2005 22:00:29 +0000

asterisk (1:1.2.0-beta2.dfsg-2) experimental; urgency=low

  * Copyright audit into debian/copyright (Closes: #331318)
  * Please package 1.2 beta 2 (Closes: #336749)

 -- Mark Purcell <msp@debian.org>  Mon,  7 Nov 2005 22:58:27 +0000

asterisk (1:1.2.0-beta2.dfsg-1) experimental; urgency=low

  * New upstream release
  * Update Build-Depends: libpri1 >= 1.2.0-beta2
  * Remove Build-Depends: doxygen. Takes too long for experimental ;-)

 -- Mark Purcell <msp@debian.org>  Tue,  1 Nov 2005 22:27:43 +0000

asterisk (1:1.2.0-beta1.dfsg-1) experimental; urgency=low

  [ Tzafrir Cohen ]
  * recreated system_libgsm patch, http://bugs.digium.com/view.php?id=5434
  * Added public key from Junction Networks (pubkey_jnctn.dpatch).
    Any other keys for IAX providers we can add?
  * updating to a beta of Asterisk 1.2
  * added defaults_debian.dpatch to set pathes
  * BuildDepends on graphviz
  * disabled most patches: still need to review them
  * What about h323?
  * deleted from patches/00list a number of patches that should not go in

  [ Mark Purcell ]
  * Fix: old-fsf-address-in-copyright-file
  * Please package version 1.2 betas (Closes: #325268)

 -- Mark Purcell <msp@debian.org>  Thu, 20 Oct 2005 19:42:14 +0100

asterisk (1:1.0.9.dfsg-6) UNRELEASED; urgency=low

  * Fix memleak bug (http://bugs.digium.com/view.php?id=4318)
  * Fix depends to adduser 3.64 (Closes: #326198)

 -- Kilian Krause <kilian@debian.org>  Wed,  7 Sep 2005 21:22:40 +0200

asterisk (1:1.0.9.dfsg-5) unstable; urgency=low

  [ Kilian Krause ]
  * debian/control: fix GCI to read CGI. (Closes: #311291)

  [ Mark Purcell ]
  * /var/lib/dpkg/info/asterisk.postinst: line 22: adduser: command not
    found (Closes: #322115)
  * debian/patches/chan-modem.dpatch from Simon Peter
    - chan_modem.c should set default read & write format (Closes:
    #303903)
  * apply patch from JÃ©rÃ´me Warnier
    - Asterisk autosupport script not recognized as such (Closes: #316799)
  * Updated debian/postrm:
    - 'apt-get --purge remove asterisk' removes configuration files from
    another package (Closes: #318455)

 -- Mark Purcell <msp@debian.org>  Tue,  9 Aug 2005 22:07:13 +0100

asterisk (1:1.0.9.dfsg-4) unstable; urgency=low

  * Cleanup bristuff to build under gcc4, thanks for the suggestions
    - Closes: #318337: FTBFS. channel.c:64: error: static declaration of
    'uniquelock' follows non-static declaration

 -- Mark Purcell <msp@debian.org>  Fri, 22 Jul 2005 10:28:15 +1000

asterisk (1:1.0.9.dfsg-3) unstable; urgency=low

  * Cleanup 70_debian-libpe-fe.dpatch to check in Makefile
  * Enable bristuff-0.2.0-RC8j.dpatch
  * Remove debian/patches/08_debian-zaptel.dpatch as it is no longer
    needed with new zaptel-source package
  * Cleanup debian/patches/
  * Conflicts: asterisk-oh323 (<= 0.6.6pre3-3)
    - Closes: #318189: asterisk-oh323: chan_oh323.so cannot find symbol
    and Asterisk crashes
    - Closes: #318216: chan_oh323.so symbols
  * Cleanup postinit error: adduser asterisk audio; adduser asterisk
    dialout
  * Incorporate suggestions from Tzafrir Cohen <tzafrir.cohen@xorcom.com>
    - postinst script has an error
    - modified astdir patch, so it won't conflict with bristuff patch
    - typo in the debian/asterisk.default: s/exra/extra/
    - build-depends both on zaptel-source (>= 1.0.6) and simply
    on zaptel-source, The latter is probably unnecessary
    - man pages for the other executables in the package

 -- Mark Purcell <msp@debian.org>  Thu, 14 Jul 2005 07:22:59 +0100

asterisk (1:1.0.9.dfsg-2) unstable; urgency=low

  * Closes: #301490: Please add patch for Italian syntax
  * Closes: #305734: On PowerPC, hanging up on voicemail causes non-stop
    log messages

 -- Mark Purcell <msp@debian.org>  Fri,  1 Jul 2005 23:24:53 +0100

asterisk (1:1.0.9.dfsg-1) unstable; urgency=low

  * New upstream release
    - Closes: #315578: New version of asterisk and bristuff released
  * Remove BRI patch while we work on it, to allow 1.0.9 to unstable

 -- Mark Purcell <msp@debian.org>  Fri,  1 Jul 2005 22:38:24 +0100

asterisk (1:1.0.8.dfsg-1) UNRELEASED; urgency=low

  * (NOT RELEASED YET) New upstream release

 -- Mark Purcell <msp@debian.org>  Fri, 24 Jun 2005 23:25:02 +0100

asterisk (1:1.0.7.dfsg.1-4) unstable; urgency=low

  * debian/control: fixed build-depends on sed's version greater than Woody.
    (Closes: #308885)

 -- Kilian Krause <kk@verfaction.de>  Sat, 21 May 2005 14:15:03 +0200

asterisk (1:1.0.7.dfsg.1-3) unstable; urgency=low

  * Jose Carlos
    + Fix a typo in NEWS.Readme
    + debian/postint: Add asterisk user to dialout group too. This is needed
      for asterisk to have enoug permissions to access zaptel devices.
    + debian/control: allow a local asterisk-config-local package to satisfy
      dependencies. Conflict with asterisk-config

 -- Jose Carlos Garcia Sogo <jsogo@debian.org>  Sun,  8 May 2005 22:06:44 +0200

asterisk (1:1.0.7.dfsg.1-2) unstable; urgency=low

  * Mark Purcell
    + Update debian/watch to use svn-upgrade
  * Kilian Krause
    + debian/asterisk.init: fixed restart problem with breaking up after stop.
    + debian/asterisk.init: fixed reference to WRAPPER_DEAMON which is only
      DEAMON for us. (Closes:#300707)

 -- Kilian Krause <kk@verfaction.de>  Mon, 21 Mar 2005 10:59:01 +0100

asterisk (1:1.0.7.dfsg.1-1) unstable; urgency=low

  * New upstream release (Ensure non-dfsg MOH is not included in orig.tar)

 -- Mark Purcell <msp@debian.org>  Sun, 20 Mar 2005 10:30:44 +0000

asterisk (1:1.0.7-1) unstable; urgency=low

  * New upstream release. (Closes: #300403)
     + Fixed music on hold. (Closes: #300370)
  * Re-enabled speex codec. (Closes: #300373)
  * As asterisk-h323 is empty, we are no longer depending on openh323, so
    we don't have build conflicts between asterisk and zaptel. (Closes: #287260)
  * debian/rules: Fixed duplicate execution of configure and unrepresentable
    changes to source. (Closes: #299184)
  * debian/patches/80_skinny.dpatch: removed. Incorporated in the 1.0.7
    release.
  * debian/patches/97_bristuff.dpatch: fixed problems to build on AMD64 with
    gcc-4.0 (Closes: #297561)

 -- Kilian Krause <kk@nyx.verfaction.de>  Sat, 19 Mar 2005 22:26:45 +0100

asterisk (1:1.0.6-2) unstable; urgency=low

  * fixed location of sounds dir in addmailbox (Closes: #298769)

 -- Kilian Krause <kk@verfaction.de>  Wed,  9 Mar 2005 22:09:05 +0100

asterisk (1:1.0.6-1) unstable; urgency=low

  * New upstream release. (asterisk 1.0.6, bristuff RC7k, Closes: #298128)
  * debian/control: explicitly depend on zlib1g-dev. (Closes: #296967)
  * Make sure we have the newer asterisk-config to not conflict
    /etc/default/asterisk. (Closes: #297719)
  * as there is no longer a conflict with libnewt-dev, it was added to the
    build deps for astman
  * debian/control: add astman and cdr_sqlite (Closes: #259342)
  * asterisk.default, asterisk.init: removed hack to load zaphfc correctly.
    We'll leave this to zaptel and it's modprobe.d features.

 -- Kilian Krause <kk@verfaction.de>  Sat,  5 Mar 2005 20:03:42 +0100

asterisk (1:1.0.5-4) unstable; urgency=low

  * debian/patches/00list,debian/control: Enable bristuff RC7f by default.
  * debian/asterisk.init, debian/asterisk.default: Cleanup zaphfc preloading
    as inspired by Tzafrir Cohen.
  * debian/control: Remove speex as B-D, it's broken when imported from
    debian. Added autotools-dev for editline.
  * deiban/rules: fix asterisk.8.gz error in lintian. Bring new autotools for
    editline's configure.
  * reintroduce chan_zap (Closes: #296656)

 -- Kilian Krause <kk@verfaction.de>  Thu, 24 Feb 2005 01:24:45 +0100

asterisk (1:1.0.5-3) unstable; urgency=low

  * debian/patches/08_debian-zaptel.dpatch, debian/control: fixed zaptel.h
    include to take zaptel-source's version.
  * debian/patches/97_bristuff.dpatch:
    include bristuff from junghanns.net (not enabled by default now, would
    close: #286797). We need libpri and zaptel with bristuff patch first.
  * 18_debian-libedit.dpatch: removed due to command history problem.
    (Closes:#281690)
  * debian/asterisk.init: Added grace timeout of 2 secs before hard shutting
    down running daemons to don't scatter incorrect warnings. Don't run the
    asterisk daemon unless RUNASTERISK=yes. (Will not bind ports from chroots)
  * debian/asterisk-config.default: Disabled autostart - especially when
    installing in chroots this was quite annoying.
  * debian/rules: Remove the asterisk.8.gz recompression. (Closes: #295220)
  * debian/README.Debian: Added first version. Thanks to Tzafrir Cohen for the
    template! (Closes: #270072)
  * debian/asterisk.deafult: moved the /etc/default to the asterisk package,
    as /etc/init.d/asterisk in there needs it.
  * debian/80_skinny.dpatch: Added
    http://bugs.digium.com/bug_view_page.php?bug_id=0003496. Thanks to Johan
    ThelmÃÂ©n <johan.thelmen@cygate.se>. (Closes:#295658)
  * debian/control: remove chan_h323 from being built for now. For now it's
    being replaced by asterisk-oh323 until chan_h323 does build and work ok
    with latest OpenH323 again.

 -- Kilian Krause <kk@verfaction.de>  Mon, 21 Feb 2005 23:13:57 +0100

asterisk (1:1.0.5-2) unstable; urgency=low

  * Debian VoIP Team upload.
  * asterisk.init, asterisk-config.default: probably fixed start-as-user-with-
    multiple-groups-problem.
  * patches/40_initgroups.dpatch: added patch from Florian Weimer
    <fw@deneb.enyo.de>. Thanks! (Closes: #293124)
  * debian/postinst: Make asterisk user's home /var/lib/asterisk upon user
    request.
  * debian/control: Bump libpri build-depends to 1.0.4-1. (Closes: #293990)

 -- Kilian Krause <kk@verfaction.de>  Tue,  8 Feb 2005 11:40:43 +0100

asterisk (1:1.0.5-1) unstable; urgency=low

  * Debian VoIP Team upload.
  * New upstream release.

  * Kilian Krause:
    - debian/asterisk.init: fixed multiple GID problem when starting asterisk (as
      reported by Raoul BÃÂ¶nisch and Simon Peter). Unfortunatelly this does
      remove the chance to run as real-time prio.
    - debian/asterisk.init: fixed stale stop by using start-stop-server after
      soft shutdown (Closes: #263879)
    - debian/asterisk.init: Fixed running as root problem for #279052. At least
      through the /etc/init.d/asterisk you won't be able to run asterisk as
      root (not even with another username). (Closes: #279052)
    - debian/asterisk.init: Added switch to run asterisk via safe_asterisk
      optionally for automatic restart (Closes: #266805)
    - debian/patches/01_security_hotfix_287851.dpatch: Removed, as is
      incorporated in 1.0.4 upstream release.

  * Jose Carlos
    - debian/rules: add a check at build time for fpm sounds. If they exist,
      abort, as we must remember to remove those from sources in each new
      upstream release.
    - debian/patches: 20_Makefile.dpatch: updated 

 -- Jose Carlos Garcia Sogo <jsogo@debian.org>  Fri, 28 Jan 2005 23:31:14 +0100

asterisk (1:1.0.3-2) unstable; urgency=low

  * Apply missing 25_subdirs_Makefile patch. 

 -- Jose Carlos Garcia Sogo <jsogo@debian.org>  Sat, 15 Jan 2005 18:23:40 +0100

asterisk (1:1.0.3-1) unstable; urgency=high

  * Debian VoIP Team upload.
  * New upstream version. (Closes: #284889)

  * Kilian Krause:
    - ACK NMU. (Thanks Steve!):
      + debian/patches/01_security_hotfix_287851.dpatch: Patched to
        fix logging strings vulnerability. (Closes: #287851)

  * Jose Carlos Garcia Sogo
    - Using again dpatch.
    - debian/patches: populated with different patches.
    - 08_debian-zaptel: Using zaptel.h file from version 1:1.0.0-2 of
      zaptel-source package.
    - removed sounds licensed from FreePlayMusic from source,
      as the license for them is not DFSG compliant (Closes: #288429)
    - applied patch to make asterisk compile on amd64 with 
      gcc-4.0 (Closes: #288831)
    - debian/asterisk.init:
      + Changed how daemon is restarted in init file. (Closes: #287025)
      + Using -r in checks in init file. (Closes: #287456)
    - debian/asterisk-config.default
      + Run by default as group asterisk.
    - Fix some lintian warnings and errors:
      + Description: should start with lowercase letter.
      + Bumped Standars-Version to 3.6.1. No changes needed.
      + Removed duplicate dependencies.
      + Recompress asterisk.8 manpage with max level (--best option)

 -- Jose Carlos Garcia Sogo <jsogo@debian.org>  Sat, 15 Jan 2005 13:11:49 +0100

asterisk (1:1.0.2-3.1) unstable; urgency=high

  * Non-maintainer upload.
  * High-urgency upload for sarge-targetted RC bugfix
  * Fix multiple format string vulnerabilities, reported by Jan
    Niehusmann.  Closes: #287851.

 -- Steve Langasek <vorlon@debian.org>  Sat,  8 Jan 2005 02:54:45 -0800

asterisk (1:1.0.2-3) unstable; urgency=low

  * Closes: #281524: running asterisk with realtime priority
  * Include changes from Tzafrir Cohen

 -- Mark Purcell <msp@debian.org>  Thu,  2 Dec 2004 02:10:12 +1100

asterisk (1:1.0.2-2) unstable; urgency=low

  * fixup init.d/asterisk to logger reload. Thanks Daniel Pocock
  * Closes: #260575: chan_zap.so: undefined symbol
  * Build-Depends: libpri1 >= 0.6
  * Closes: #279905: dependency issue breaks voicemail setup
  * Build-Depends: asterisk-sounds-main (>= 1.0.2)
  * Closes: #269942: package Debian asterisk-sounds
  * Rename asterisk-sounds to asterisk-sounds-main to avoid upstream
    conflict
  * Closes: #277404: Please split out GTK console
  * Split off asterisk-gtk-console package to contain all X11
    dependancies

 -- Mark Purcell <msp@debian.org>  Sat,  6 Nov 2004 13:20:33 +1100

asterisk (1:1.0.2-1) unstable; urgency=low

  * New upstream release
  * Closes: #279540: Please package newer version of asterisk
  * Closes: #275808: logrotate errors and emails

 -- Mark Purcell <msp@debian.org>  Thu,  4 Nov 2004 18:19:09 +1100

asterisk (1:1.0.1-2) unstable; urgency=low

  * Closes: #275808: logrotate errors and emails
  * Add init.d/asterisk logger-reload|extensions-reload options & use
    logger reload in asterisk.logrotate. Thanks Daniel Pocock

 -- Mark Purcell <msp@debian.org>  Wed, 13 Oct 2004 22:31:22 +1000

asterisk (1:1.0.1-1) unstable; urgency=low

  * New upstream release

 -- Mark Purcell <msp@debian.org>  Wed,  6 Oct 2004 14:39:12 +1000

asterisk (1:1.0.0-4) unstable; urgency=high

  * Urgency high for sarge release
  * Closes: #273570: asterisk-sounds: sounds/letters directory is missing

 -- Mark Purcell <msp@debian.org>  Wed, 29 Sep 2004 07:48:16 +1000

asterisk (1:1.0.0-3) unstable; urgency=low

  * Closes: #273780: under ALSA, infinite-loops immediately on
    installation
  * Comment out autoload of chan_oss from modules.conf
  * Closes: #272999: asterisk_1:0.9.1+1.0RC2-2_hppa: FTBFS:
    [anaFilter.o] Error 1
  * Version 1.0.0 now builds on hppa
  * Closes: #273576: chan_zap.so module is missing
  * check for ../include/linux/zaptel.h in channels/Makefile
  * Closes: #273572: Music on hold has wrong default directory
  * refer to correct /usr/share/asterisk/mohmp3 directory

 -- Mark Purcell <msp@debian.org>  Tue, 28 Sep 2004 23:06:03 +1000

asterisk (1:1.0.0-2) unstable; urgency=medium

  * Rebuild with zaptel.h_1.0.0 and libpri-dev_1.0.0

 -- Mark Purcell <msp@debian.org>  Sun, 26 Sep 2004 08:32:11 +1000

asterisk (1:1.0.0-1) unstable; urgency=low

  * New upstream release

 -- Mark Purcell <msp@debian.org>  Fri, 24 Sep 2004 20:23:31 +1000

asterisk (1:0.9.1+1.0RC2-2) unstable; urgency=low

  * Use asterisk.8.gz man page
  * Remove back PROC optomizations from Makefile, enable build on hppa

 -- Mark Purcell <msp@debian.org>  Thu, 23 Sep 2004 18:20:45 +1000

asterisk (1:0.9.1+1.0RC2-1) unstable; urgency=low

  * New upstream release
  * Back out dpatch (Makes new upstream release straight forward)

 -- Mark Purcell <msp@debian.org>  Thu, 23 Sep 2004 08:35:08 +1000

asterisk (1:0.9.1+1.0RC1-9) unstable; urgency=low

  * Breakup monolithic patch into components.

 -- Mark Purcell <msp@debian.org>  Wed, 22 Sep 2004 18:47:31 +1000

asterisk (1:0.9.1+1.0RC1-8) unstable; urgency=medium

  * debian/patches/11_makefile-sanitize.dpatch: fixed patch to make gsm
     work again. (Closes: #266167)

 -- Kilian Krause <kk@verfaction.de>  Tue, 17 Aug 2004 15:34:21 +0200

asterisk (1:0.9.1+1.0RC1-7) unstable; urgency=low

  * debian/rules, debian/patches/10_rollup-1.0-1.dpatch,
    debian/patches/11_makefile-sanitize.dpatch: Incorporate fixes proposed by
    Thiemo Seufer <ica2_ts@csv.ica.uni-stuttgart.de>.
    Should fix the FTBFS on hppa.

 -- Kilian Krause <kk@verfaction.de>  Sun, 15 Aug 2004 20:16:26 +0200

asterisk (1:0.9.1+1.0RC1-6) unstable; urgency=low

  * debian/control: suggest gnomemeeting. (At least tell people, which clients
    they need) Also add dpatch as Build-Dep. (Closes: #265036)
  * Closes: #262011: SIP cancels fail due to Request-URI mismatch
  * debian/patches/20_chan_sip.dpatch: Apply chan_sip patch from Jan Niehusmann

 -- Kilian Krause <kk@verfaction.de>  Sat, 14 Aug 2004 14:05:36 +0000

asterisk (1:0.9.1+1.0RC1-5) unstable; urgency=low

  * debian/control: make sure we're rebuilding with rtti enabled openh323
  * debian/rules: make svn-buildpacakge not choke on failing clean target

 -- Kilian Krause <kk@verfaction.de>  Mon,  9 Aug 2004 14:37:38 +0200

asterisk (1:0.9.1+1.0RC1-4) unstable; urgency=low

  * Cleanup wierd .diff.gz file

 -- Mark Purcell <msp@debian.org>  Wed, 28 Jul 2004 19:00:32 +1000

asterisk (1:0.9.1+1.0RC1-3) unstable; urgency=low

  * Rebuild with existing libtonezone1

 -- Mark Purcell <msp@debian.org>  Wed, 28 Jul 2004 18:10:52 +1000

asterisk (1:0.9.1+1.0RC1-2) unstable; urgency=low

  * Cleanup codecs/ilbc/Makefile to remove -march sillyness (which is
    already defined above anyway
  * Debian already has libedit.a Don't build, fails on mips anyway due to old config.guess

 -- Mark Purcell <msp@debian.org>  Wed, 21 Jul 2004 19:21:51 +1000

asterisk (1:0.9.1+1.0RC1-1) unstable; urgency=low

  * New upstream release (Closes: Bug#260370)
  * Closes: #247401: doesn't upgrade cleanly - initscript
    problems ?

 -- Mark Purcell <msp@debian.org>  Tue, 20 Jul 2004 19:20:37 +1000

asterisk (1:0.9.1-3) unstable; urgency=low

  * allow init.d/asterisk distribution via GPL
  * Remove -I/usr/include/ptlib/unix from h323 Makefile, Thanks Ray
    Dassen (Closes: Bug#259564)
  * Closes: #259572: Unmet dependencies
  * Maintainer: Debian VoIP Team <pkg-voip-maintainers@lists.alioth.debian.org>
    Uploaders: Mark Purcell <msp@debian.org>, 
    Kilian Krause <kk@verfaction.de>,
    Jose Carlos Garcia Sogo <jsogo@debian.org>, 
    Goedson Teixeira Paixao <goedson@debian.org>, 
    Santiago Garcia Mantinan <manty@debian.org>
  * Next step.  Get this all back into svn!

 -- Mark Purcell <msp@debian.org>  Sun, 18 Jul 2004 10:40:22 +1000

asterisk (1:0.9.1-2) unstable; urgency=low

  * Rebuild with libopenh323-dev (1.12.2-4) from sarge for H.323 support

 -- Mark Purcell <msp@debian.org>  Wed, 14 Jul 2004 18:35:42 +1000

asterisk (1:0.9.1-1) unstable; urgency=low

  * New upstream release. Previous version WAS tagged as 1.0 in CVS :-(
  * Closes: #249046: no ring indication
  * Closes: #254654: init.d/asterisk restart kills asterisk
  * Build-Depends: libgtk1.2-dev, libspeex-dev (Closes: Bug#253639)
  * Turn off broken H.323 support (Closes: Bug#255662)
  * Closes: #250302: Package description is slightly outdated and
    incorrect
  * Closes: #255685: Syntax error in configuration file,
    /etc/asterisk/sip.conf
  * Closes: #228722: please add postgres support for asterisk

 -- Mark Purcell <msp@debian.org>  Sat,  3 Jul 2004 22:47:41 +1000

asterisk (1.0-2) unstable; urgency=low

  * Rebuild for new libopenh323-dev

 -- Mark Purcell <msp@debian.org>  Sat,  3 Jul 2004 21:56:58 +1000

asterisk (1.0-2) unstable; urgency=low

  * Merged 1.0-1 and 0.9.0-2

 -- Jose Carlos Garcia Sogo <jsogo@debian.org>  Tue,  8 Jun 2004 00:10:16 +0200

asterisk (1.0-1) unstable; urgency=low

  * New upstream release

 -- Mark Purcell <msp@debian.org>  Mon, 31 May 2004 21:51:18 +1000

asterisk (0.9.0-1) unstable; urgency=low

  * New upstream release

 -- Mark Purcell <msp@debian.org>  Sun, 18 Apr 2004 22:51:59 +1000

asterisk (0.7.2-4) unstable; urgency=low

  * Update channels/h323/Makefile Closes: #235010:
    asterisk_0.7.2-3(unstable/sparc): arch-dependent CFLAGS

 -- Mark Purcell <msp@debian.org>  Fri, 27 Feb 2004 12:14:26 +1100

asterisk (0.7.2-3) unstable; urgency=low

  * Add Build-Depends: libopenh323-dev (Closes: Bug#233649)

 -- Mark Purcell <msp@debian.org>  Tue, 24 Feb 2004 11:55:57 +1100

asterisk (0.7.2-2) unstable; urgency=low

  * Build-Depends: libpri-dev (Closes:Bug#199548)
  * Include Suggests: rate-engine

 -- Mark Purcell <msp@debian.org>  Thu,  5 Feb 2004 17:26:02 +1100

asterisk (0.7.2-1) unstable; urgency=low

  * New upstream release

 -- Mark Purcell <msp@debian.org>  Thu,  5 Feb 2004 16:25:28 +1100

asterisk (0.7.1-3) unstable; urgency=low

  * Build with libopenh323 support (Closes: Bug#195233)
  * Include Suggests: ohphone

 -- Mark Purcell <msp@debian.org>  Tue,  3 Feb 2004 08:47:47 +1100

asterisk (0.7.1-2) unstable; urgency=low

  * Remove ppc fixup in codecs/lpc10/Makefile again. Prevents build on
    ia64, mk68 et al

 -- Mark Purcell <msp@debian.org>  Fri, 16 Jan 2004 11:46:57 +1100

asterisk (0.7.1-1) unstable; urgency=low

  * New upstream release
  * i686 optomised build

 -- Mark Purcell <msp@debian.org>  Thu, 15 Jan 2004 23:06:01 +1100

asterisk (0.7.0-1) unstable; urgency=low

  * LCA2004 release. Thanks Internode for the wireless access
  * New upstream release
  * Clean up bad symlinks in vm (Closes: Bug#220714)
  * Apply restart gracefully patch from Nick Estes (Closes: Bug#217004)
  * Fixup permission/ ownership problems in /etc/asterisk (Closes:
    Bug#216995)
  * Fixup master call log issues (Closes: Bug#217003)
  * Remove Build-Depends: libmysql-dev - see doc/README.mysql (Closes:
    Bug#222255)
  * Build with include/linux/zaptel.h from zaptel-0.8.0.tar.gz
  * Include Build-Depends: postgresql-dev
  * Include Build-Depends: unixodbc-dev

 -- Mark Purcell <msp@debian.org>  Wed, 14 Jan 2004 10:10:02 +1100

asterisk (0.5.0-3) unstable; urgency=low

  * Remove Suggests: gnophone (Orphaned and removed)
  * Clean up bad symlinks in vm (Closes: Bug#220714)
  * Apply restart gracefully patch from Nick Estes (Closes: Bug#217004)
  * Fixup permission/ ownership problems in /etc/asterisk (Closes:
    Bug#216995)
  * Fixup master call log issues (Closes: Bug#217003)

 -- Mark Purcell <msp@debian.org>  Tue, 13 Jan 2004 21:01:16 +1100

asterisk (0.5.0-2) unstable; urgency=low

  * Build-Depends: debhelper (>= 4.0.4) (Closes: Bug#216725)

 -- Mark Purcell <msp@debian.org>  Fri, 31 Oct 2003 06:59:11 +1100

asterisk (0.5.0-1) unstable; urgency=low

  * New upstream release (Closes: Bug#196761)
  * Build with include/linux/zaptel.h from zaptel-0.7.0.tar.gz

 -- Mark Purcell <msp@debian.org>  Tue, 16 Sep 2003 23:40:05 +1000

asterisk (0.4.0-6) unstable; urgency=low

  * Include dh_install in debian/rules (Closes: Bug#207879)

 -- Mark Purcell <msp@debian.org>  Wed, 10 Sep 2003 23:07:37 +1000

asterisk (0.4.0-5) unstable; urgency=low

  * Rebuild for libnewt-utf8-0 (NOT AVAILABLE)
  * Build-Depend: libnewt-dev

 -- Mark Purcell <msp@debian.org>  Sat,  5 Jul 2003 15:17:57 +1000

asterisk (0.4.0-4) unstable; urgency=low

  * include Build-Depends: libgtk1.2-dev  (Closes: Bug#194489)

 -- Mark Purcell <msp@debian.org>  Sat,  5 Jul 2003 15:12:02 +1000

asterisk (0.4.0-3) unstable; urgency=low

  * Rebuild for libtonezone-0.60, libzaptel-0.60
  * Change codecs/codec_gsm.c:#include <gsm/gsm.h> (Closes: Bug#190082)
  * Start after isdnactivecards debian/rules dh_installinit (Closes:
    Bug#191062)
  * Change to Build-Depends: libnetw-utf8-dev
  * Update Tormenta URL in debian/control

 -- Mark Purcell <msp@debian.org>  Sat, 10 May 2003 16:58:03 +1000

asterisk (0.4.0-2) unstable; urgency=low

  * Remove ppc 'fixup' in codecs/lpc10/Makefile (Closes: Bug#189743)
  * Updated description (Closes: Bug#168779)

 -- Mark Purcell <msp@debian.org>  Sun, 20 Apr 2003 08:37:49 +1000

asterisk (0.4.0-1) unstable; urgency=low

  * New upstream release
  * cdr/Makefile CFLAGS+=-fPIC -DPIC (Closes: Bug#188915)
  * Include include/linux/zaptel.h from zaptel-0.6.0.tar.gz

 -- Mark Purcell <msp@debian.org>  Sat, 19 Apr 2003 21:11:45 +1000

asterisk (0.3.0-2) unstable; urgency=low

  * Build-Depends: libmysqlclient-dev, libgtk2.0-dev (Closes: Bug#188188)

 -- Mark Purcell <msp@debian.org>  Thu, 10 Apr 2003 20:08:38 +1000

asterisk (0.3.0-1) unstable; urgency=low

  * New upstream release
  * channels/chan_zap_new.c is depreciated
  * Debian patches to upstream Makefile are a lot cleaner!!
  * Update /etc/init.d/asterisk stop to use 'stop now' command
  * Hack AST_DATA_DIR to provide asterisk-sounds under /usr/share/asterisk
  * `chown asterisk.asterisk /var/lib/asterisk` on install
  * Remove dh_undocumented
  * chan_oss failing again :-(
  * Force Depends: libspeex1 (dpkg-shlibs bug?)

 -- Mark Purcell <msp@debian.org>  Tue,  8 Apr 2003 21:27:52 +1000

asterisk (0.2.0-cvs20030103-3) unstable; urgency=low

  * Include Build-Depends: libasounds2-dev
  * Update channels/Makefile to include Debian zaptel.h dir (Closes: Bug#178868)
  * Thanks to mdz for the new libzap-dev and other patches

 -- Mark Purcell <msp@debian.org>  Sat,  8 Mar 2003 15:45:40 +1100

asterisk (0.2.0-cvs20030103-2) unstable; urgency=low

  * Revert -march in codecs/lpc10/Makefile

 -- Mark Purcell <msp@debian.org>  Sat, 25 Jan 2003 08:38:51 +1100

asterisk (0.2.0-cvs20030103-1) unstable; urgency=low

  * New upstream release
  * Use invoke-rc.d in logrotate script (Closes: Bug#174633)

 -- Mark Purcell <msp@debian.org>  Fri, 24 Jan 2003 21:57:43 +1100

asterisk (0.2.0-4) unstable; urgency=low

  * Add Build-Depends: bison (Closes: Bug#169312)

 -- Mark Purcell <msp@debian.org>  Sun, 17 Nov 2002 09:03:01 +1100

asterisk (0.2.0-3) unstable; urgency=low

  * Fixed bison problems. ThanksMartijn
  * Move gethostname in app_voicemail.c (Closes: Bug#168936)
  * Move 0.2.0 to unstable. If you have OSS problems use asterisk/testing.

 -- Mark Purcell <msp@debian.org>  Fri, 15 Nov 2002 20:36:03 +1100

asterisk (0.2.0-2) experimental; urgency=low

  * Incorporate changes from mdz (Remove graphviz, build astman)
  * Force Build-Deps: bison-1.35 :(

 -- Mark Purcell <msp@debian.org>  Sat, 26 Oct 2002 12:59:12 +1000

asterisk (0.2.0-1) experimental; urgency=low

  * New upstream release (Closes: Bug#163852)
  * Uploaded to experimental as I am having problems with the chan_oss driver
  which is a critial component.

 -- Mark Purcell <msp@debian.org>  Wed,  9 Oct 2002 08:02:38 +1000

asterisk (0.1.12-5) unstable; urgency=low

  * Remove chown against /var/lib/asterisk (Closes: Bug#154774)
  * Fixup vm symlink (Closes: Bug#158800)
  * Fixup location of iaxtel.pub keys

 -- Mark Purcell <msp@debian.org>  Sun,  8 Sep 2002 20:56:24 +1000

asterisk (0.1.12-4) unstable; urgency=low

  * Seperate into indep packages; asterisk, asterisk-[sounds,dev,doc]
  * Sounds & images from /var/lib/asterisk to FHS compliant /usr/share/asterisk
  * Remove DEBUG options from normal build
  * Include Build-Depends: doxygen

 -- Mark Purcell <msp@debian.org>  Wed, 24 Jul 2002 15:07:51 +1000

asterisk (0.1.12-3) unstable; urgency=low

  * Update Description
  * Use dpkg-architecture to set processor optimisations (Closes: #153175)

 -- Mark Purcell <msp@debian.org>  Wed, 17 Jul 2002 21:23:33 +1000

asterisk (0.1.12-2) unstable; urgency=low

  * Fixup build check for /etc/asterisk

 -- Mark Purcell <msp@debian.org>  Tue,  9 Jul 2002 07:32:17 +1000

asterisk (0.1.12-1) unstable; urgency=low

  * New upstream release
  * Fixup typo in /etc/init.d/asterisk
  * Include [cdr_mysql.so] => (MySQL CDR Backend)
  * Use excellent init.d script idea from Sim IJskes
  * Fixup broken postinst & postinst scripts

 -- Mark Purcell <msp@debian.org>  Mon,  8 Jul 2002 23:07:27 +1000

asterisk (0.1.11-5) unstable; urgency=low

  * Include zaptel support (Closes: Bug#151274)

 -- Mark Purcell <msp@debian.org>  Fri,  5 Jul 2002 23:59:17 +1000

asterisk (0.1.11-4) unstable; urgency=low

  * Add init.d from Matt Zimmerman (Closes: Bug#150573)
  * More updates from Matt Zimmerman: (Closes: Bug#151201)
        -  place socket and fifo in /var/run/asterisk instead of /var/run
        - fix mkfifo call (bug uncovered by running as non-root), patch
        sent upstream also
        - create postinst with necessary adduser and chown calls
  * Install logrotate from Matt Zimmerman (Closes: Bug#151198)
  * Disable geteuid check to allow running as non-root
  * Add asterisk to audio group by default

 -- Mark Purcell <msp@debian.org>  Sat, 29 Jun 2002 01:34:56 +1000

asterisk (0.1.11-3) unstable; urgency=high

  * Update cdr/Makefile to include CFLAGS+=-fPIC -DPIC (Closes: Bug#144052)

 -- Mark Purcell <msp@debian.org>  Sat, 27 Apr 2002 21:19:32 +1000

asterisk (0.1.11-2) unstable; urgency=low

  * Move from non-us to main/comm
  * Update copyright file to reflect upstream CVS LICENCE change to permit
    linking with OpenSSL/ OpenH323 (Closes: Bug#141164)

 -- Mark Purcell <msp@debian.org>  Fri, 19 Apr 2002 20:11:58 +1000

asterisk (0.1.11-1) unstable; urgency=low

  * New upstream release
  * Update debian/control
  * Include README.cdr & README.iax

 -- Mark Purcell <msp@debian.org>  Mon, 18 Mar 2002 15:46:39 +1100

asterisk (0.1.10-3) unstable; urgency=low

  * Include CFLAGS+=-fPIC -DPIC in res/Makefile for hppa build

 -- Mark Purcell <msp@debian.org>  Fri,  1 Mar 2002 20:58:02 +1100

asterisk (0.1.10-2) unstable; urgency=low

  * Change Build-Depends: libssl-dev (Closes: Bug#134821)

 -- Mark Purcell <msp@debian.org>  Wed, 20 Feb 2002 22:28:35 +1100

asterisk (0.1.10-1) unstable; urgency=low

  * New upstream release

 -- Mark Purcell <msp@debian.org>  Wed, 20 Feb 2002 22:28:00 +1100

asterisk (0.1.9-5) unstable; urgency=low

  * Better make that Architecture: any if I want this to autobuild :-)

 -- Mark Purcell <msp@debian.org>  Wed,  2 Jan 2002 13:00:09 +1100

asterisk (0.1.9-4) unstable; urgency=low

  * Exclude MMX optimsed asm codecs/gsm/src/k6opt.s to enable non-x86 &
    non-k6 builds (Closes: Bug#127225)

 -- Mark Purcell <msp@debian.org>  Wed,  2 Jan 2002 12:59:38 +1100

asterisk (0.1.9-3) unstable; urgency=low

  * New maintainer (Closes: Bug#123497)
  * Set Arch to i386 as this contains x86 assember code 

 -- Mark Purcell <msp@debian.org>  Sat, 29 Dec 2001 10:25:21 +1100

asterisk (0.1.9-2) unstable; urgency=high

  * apps/Makefile, codecs/gsm/Makefile: Missed an -mpentium in CFLAGS.
    Closes: #126552.

 -- Matej Vela <vela@debian.org>  Thu, 27 Dec 2001 04:00:50 +0100

asterisk (0.1.9-1) unstable; urgency=medium

  * QA upload.
  * New upstream version.
  * Package is orphaned; maintainer set to Debian QA Group.
  * debian/postrm: Ensure correct exit status.  Closes: #105523.
  * debian/control: s/API's/APIs/  Closes: #124423.
  * debian/conffiles: Already handled by debhelper; removed.
  * Conforms to Standards version 3.5.6:
    * debian/copyright: Include module licensing exception and GSM and
      ADPCM copyrights.
    * debian/rules:
      * Use dh_undocumented rather than a verbatim copy of undocumented.7.
      * Pass ChangeLog to dh_installchangelogs.
      * Support DEB_BUILD_OPTIONS.

 -- Matej Vela <vela@debian.org>  Tue, 25 Dec 2001 19:16:48 +0100

asterisk (0.1.6-1.2) unstable; urgency=low

  * NMU
  * Fix makefiles, add -fPIC to builds.  Closes: #104779

 -- LaMont Jones <lamont@smallone.fc.hp.com>  Sun, 15 Jul 2001 15:15:46 -0600

asterisk (0.1.6-1.1) unstable; urgency=low

  * NMU with permission of Raphael Bossek.
  * Corrected an error in channels/adtranvofr.h that prevented
    big endian from compiling. (closes: #87273, #89868, #93913)
  * Added build dependencies.
  * Added the location of the upstream source to debian/copyright.

 -- Adrian Bunk <bunk@fs.tum.de>  Tue, 15 May 2001 00:22:31 +0200

asterisk (0.1.6-1) unstable; urgency=low

  * New upstream version.

 -- Raphael Bossek <bossekr@debian.org>  Mon, 19 Feb 2001 15:48:43 +0100

